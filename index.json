[{"content":"take  å¾ Observable ä¸­ç™¼å‡ºé ­ n å€‹å…ƒç´ ï¼Œå¿½ç•¥å¾Œé¢çš„å…ƒç´ ç›´åˆ°åºåˆ—çµæŸã€‚   let disposeBag = DisposeBag() Observable.of(\u0026#34;ğŸ±\u0026#34;, \u0026#34;ğŸ°\u0026#34;, \u0026#34;ğŸ¶\u0026#34;, \u0026#34;ğŸ¸\u0026#34;, \u0026#34;ğŸ·\u0026#34;, \u0026#34;ğŸµ\u0026#34;) .take(3) .subscribe(onNext: { print($0) }) .disposed(by: disposeBag) å°å‡ºçµæœ\nğŸ± ğŸ° ğŸ¶ distinctUntilChanged  é˜»æ­¢ Observable ç™¼å‡ºç›¸åŒçš„å…ƒç´ ã€‚å¦‚æœå¾Œä¸€å€‹å…ƒç´ å’Œå‰ä¸€å€‹å…ƒç´ ç›¸åŒï¼Œå°‡ä¸æœƒç™¼å‡ºä¾†ï¼Œè‹¥å¾Œä¸€å€‹å…ƒç´ å’Œå‰ä¸€å€‹å…ƒç´ ä¸åŒæ‰æœƒè¢«ç™¼å‡ºä¾†ã€‚   let disposeBag = DisposeBag() Observable.of(\u0026quot;ğŸ±\u0026quot;, \u0026quot;ğŸ·\u0026quot;, \u0026quot;ğŸ±\u0026quot;, \u0026quot;ğŸ±\u0026quot;, \u0026quot;ğŸ±\u0026quot;, \u0026quot;ğŸµ\u0026quot;, \u0026quot;ğŸ±\u0026quot;) .distinctUntilChanged() .subscribe(onNext: { print($0) }) .disposed(by: disposeBag) å°å‡ºçµæœ\nğŸ± ğŸ· ğŸ± ğŸµ ğŸ± ","permalink":"https://tientiensmile.github.io/posts/rxswift/rxswift_operators_2/","summary":"take  å¾ Observable ä¸­ç™¼å‡ºé ­ n å€‹å…ƒç´ ï¼Œå¿½ç•¥å¾Œé¢çš„å…ƒç´ ç›´åˆ°åºåˆ—çµæŸã€‚   let disposeBag = DisposeBag() Observable.of(\u0026#34;ğŸ±\u0026#34;, \u0026#34;ğŸ°\u0026#34;, \u0026#34;ğŸ¶\u0026#34;, \u0026#34;ğŸ¸\u0026#34;, \u0026#34;ğŸ·\u0026#34;, \u0026#34;ğŸµ\u0026#34;) .take(3) .subscribe(onNext: { print($0) }) .disposed(by: disposeBag) å°å‡ºçµæœ\nğŸ± ğŸ° ğŸ¶ distinctUntilChanged  é˜»æ­¢ Observable ç™¼å‡ºç›¸åŒçš„å…ƒç´ ã€‚å¦‚æœå¾Œä¸€å€‹å…ƒç´ å’Œå‰ä¸€å€‹å…ƒç´ ç›¸åŒï¼Œå°‡ä¸æœƒç™¼å‡ºä¾†ï¼Œè‹¥å¾Œä¸€å€‹å…ƒç´ å’Œå‰ä¸€å€‹å…ƒç´ ä¸åŒæ‰æœƒè¢«ç™¼å‡ºä¾†ã€‚   let disposeBag = DisposeBag() Observable.of(\u0026quot;ğŸ±\u0026quot;, \u0026quot;ğŸ·\u0026quot;, \u0026quot;ğŸ±\u0026quot;, \u0026quot;ğŸ±\u0026quot;, \u0026quot;ğŸ±\u0026quot;, \u0026quot;ğŸµ\u0026quot;, \u0026quot;ğŸ±\u0026quot;) .distinctUntilChanged() .subscribe(onNext: { print($0) }) .disposed(by: disposeBag) å°å‡ºçµæœ\nğŸ± ğŸ· ğŸ± ğŸµ ğŸ± ","title":"RxSwift - takeã€distinctUntilChanged"},{"content":"combineLatest  å°‡å¤šå€‹ Observables ä¸­æœ€æ–°çš„å…ƒç´ é€éä¸€å€‹å‡½æ•¸çµ„åˆèµ·ä¾†ï¼Œç„¶å¾Œå°‡çµæœç™¼å‡ºä¾†ã€‚  let disposeBag = DisposeBag() let first = PublishSubject\u0026lt;String\u0026gt;() let second = PublishSubject\u0026lt;String\u0026gt;() Observable.combineLatest(first, second) { $0 + $1 } .dubscribe(onNext: { print($0) }) .disposed(by: disposeBag) first.onNext(\u0026#34;1\u0026#34;) second.onNext(\u0026#34;A\u0026#34;) first.onNext(\u0026#34;2\u0026#34;) second.onNext(\u0026#34;B\u0026#34;) second.onNext(\u0026#34;C\u0026#34;) second.onNext(\u0026#34;D\u0026#34;) first.onNext(\u0026#34;3\u0026#34;) first.onNext(\u0026#34;4\u0026#34;) å°å‡ºçµæœ\n1A 2A 2B 2C 2D 3D 4D skip  è·³é Observable ä¸­é ­ n å€‹å…ƒç´   do  ä½¿ç”¨ do ä¾†ç›£è½äº‹ä»¶çš„ç”Ÿå‘½é€±æœŸï¼Œå®ƒæœƒåœ¨æ¯ä¸€æ¬¡äº‹ä»¶ç™¼é€å‰è¢«èª¿ç”¨ã€‚ å®ƒå’Œ subscribe ä¸€æ¨£ï¼Œå¯ä»¥é€šéä¸åŒçš„é–‰åŒ…å›èª¿ä¸åŒé¡å‹çš„äº‹ä»¶ã€‚ å¦‚ï¼šdo(onNext: ) åœ¨ subscribe(onNext:) å‰ï¼Œdo(onCompleted:) åœ¨ subscribe(onCompleted:) å‰èª¿ç”¨ã€‚  let observable = Observable.of(\u0026#34;A\u0026#34;, \u0026#34;B\u0026#34;, \u0026#34;C\u0026#34;) observable .do(onNext: { element in print(\u0026#34;Intercepted Nextï¼š\u0026#34;, element) }, onError: { error in print(\u0026#34;Intercepted Errorï¼š\u0026#34;, error) }, onCompleted: { print(\u0026#34;Intercepted Completed\u0026#34;) }, onDispose: { print(\u0026#34;Intercepted Disposed\u0026#34;) }) .subscribe(onNext: { element in print(element) }, onError: { error in print(error) }, onCompleted: { print(\u0026#34;completed\u0026#34;) }, onDisposed: { print(\u0026#34;disposed\u0026#34;) }) å°å‡ºçµæœ\nIntercepted Nextï¼š A A Intercepted Nextï¼š B B Intercepted Nextï¼š C C Intercepted Completed completed disposed Intercepted Disposed ","permalink":"https://tientiensmile.github.io/posts/rxswift/rxswift_operators_1/","summary":"combineLatest  å°‡å¤šå€‹ Observables ä¸­æœ€æ–°çš„å…ƒç´ é€éä¸€å€‹å‡½æ•¸çµ„åˆèµ·ä¾†ï¼Œç„¶å¾Œå°‡çµæœç™¼å‡ºä¾†ã€‚  let disposeBag = DisposeBag() let first = PublishSubject\u0026lt;String\u0026gt;() let second = PublishSubject\u0026lt;String\u0026gt;() Observable.combineLatest(first, second) { $0 + $1 } .dubscribe(onNext: { print($0) }) .disposed(by: disposeBag) first.onNext(\u0026#34;1\u0026#34;) second.onNext(\u0026#34;A\u0026#34;) first.onNext(\u0026#34;2\u0026#34;) second.onNext(\u0026#34;B\u0026#34;) second.onNext(\u0026#34;C\u0026#34;) second.onNext(\u0026#34;D\u0026#34;) first.onNext(\u0026#34;3\u0026#34;) first.onNext(\u0026#34;4\u0026#34;) å°å‡ºçµæœ\n1A 2A 2B 2C 2D 3D 4D skip  è·³é Observable ä¸­é ­ n å€‹å…ƒç´   do  ä½¿ç”¨ do ä¾†ç›£è½äº‹ä»¶çš„ç”Ÿå‘½é€±æœŸï¼Œå®ƒæœƒåœ¨æ¯ä¸€æ¬¡äº‹ä»¶ç™¼é€å‰è¢«èª¿ç”¨ã€‚ å®ƒå’Œ subscribe ä¸€æ¨£ï¼Œå¯ä»¥é€šéä¸åŒçš„é–‰åŒ…å›èª¿ä¸åŒé¡å‹çš„äº‹ä»¶ã€‚ å¦‚ï¼šdo(onNext: ) åœ¨ subscribe(onNext:) å‰ï¼Œdo(onCompleted:) åœ¨ subscribe(onCompleted:) å‰èª¿ç”¨ã€‚  let observable = Observable.","title":"RxSwift - combineLatestã€skipã€do"},{"content":"ObservableObject å’Œ @ObservedObject  ObservableObject æ˜¯ä¸€å€‹ protocolï¼Œè¦æ±‚å¯¦ç¾å”è­°çš„é¡å‹ç‚º classï¼Œæœ‰ä¸€å€‹éœ€è¦å¯¦ä½œçš„å±¬æ€§ objectWillChangeã€‚ ç•¶æ•¸æ“šå°‡è¦ç™¼ç”Ÿæ”¹è®Šæ™‚ï¼Œé€™å€‹å±¬æ€§ç”¨ä¾†å‘å¤–é€²è¡Œã€Œå»£æ’­ã€ï¼Œå®ƒçš„è¨‚é–±è€…(ä¸€èˆ¬æ˜¯ View ç›¸é—œçš„é‚è¼¯)åœ¨æ”¶åˆ°é€šçŸ¥å¾Œï¼Œå° View é€²è¡Œåˆ·æ–°ã€‚ å‰µå»ºéµå¾ ObservableObject å”è­°çš„é¡åˆ¥å¾Œï¼Œå¯¦éš›åœ¨ View è£¡ä½¿ç”¨éœ€è¦å°‡æ­¤ç‰©ä»¶å®£å‘Šç‚º @ObservedObjectã€‚  ç¯„ä¾‹ï¼šé»æ“ŠæŒ‰éˆ•æ“²éª°å­  ä½¿ç”¨ PassthroughSubject ä¸­ send() æ–¹æ³•é€šçŸ¥äº‹ä»¶å°‡è¦ç™¼ç”Ÿã€‚ PassthroughSubject æ–¼ Combine æ¡†æ¶ä¸­ï¼Œå°‡æ–¼å¾ŒçºŒä»‹ç´¹ã€‚\n  ContentView ä¸­ model ç‚º reference typeï¼Œä½¿ç”¨ @ObservedObject å°‡å®ƒå’Œ ContentView é—œè¯èµ·ä¾†ã€‚ç•¶ model ä¸­çš„å±¬æ€§ diceState å°‡è¦æ”¹è®Šï¼ŒobjectWillChange å°±æœƒç™¼å‡ºäº‹ä»¶ï¼Œä½¿å¾— body è¢«èª¿ç”¨é€²è¡ŒUIåˆ·æ–°ã€‚  struct ContentView: View { @ObservedObject private var model = DiceModel() var body: some View { CounterButton(diceState: $model.diceState) } } class DiceModel: ObservableObject { let objectWillChange = PassthroughSubject\u0026lt;Void, Never\u0026gt;() var diceState: DiceState = .one { willSet { objectWillChange.send() } } } enum DiceState: Int { case one = 1 case two = 2 case three = 3 case four = 4 case five = 5 case six = 6 } @Published  åœ¨ ObservableObject ä¸­ï¼Œæ¯å€‹å°ä»‹é¢å¯èƒ½ç”¢ç”Ÿå½±éŸ¿çš„å±¬æ€§éƒ½å¯ä»¥å¦‚ diceState çš„ willSet é‚£æ¨£ï¼Œæ‰‹å‹•èª¿ç”¨ objectWillChange.send()ã€‚è‹¥ model æœ‰å¾ˆå¤šå±¬æ€§é€ä¸€æ·»åŠ  willSet å¾ˆéº»ç…©ä¸”é‡è¤‡ã€‚ ç°¡åŒ–å¯«æ³•ç‚ºï¼šçœç•¥å®£å‘Š objectWillChangeï¼Œä¸¦å°‡å±¬æ€§æ¨™è¨˜ç‚º Publishedã€‚  class DiceModel: ObservableObject { @Published var diceState: DiceState = .one } @EnvironmentObject  ç•¶å¤šå€‹ View éœ€è¦è¨ªå•åˆ°åŒä¸€å€‹ modelï¼Œä½¿ç”¨ @ObservedObject éœ€è¦å¤§é‡çš„å±¬æ€§å‚³éï¼Œæ”¹ç”¨ @EnvironmentObject å¯ä»¥ä¾¿æ·çš„é”åˆ°å¤§æ‰¹é‡å…±äº«ã€‚ è·Ÿå–®ä¾‹å¾ˆåƒï¼Œåªè¦åœ¨ View å±¤ç´šä»¥ä¸Šï¼Œä¸è«–åœ¨å“ªè£¡éƒ½å¯ä»¥è¨ªå•åˆ°é€™å€‹ç’°å¢ƒå°è±¡ã€‚  struct ContentView: View { @EnvironmentObject var model: DiceModel var body: some View { CounterButton() } } struct CounterButton: View { @EnvironmentObject var model: DiceModel var body: some View { Button { let value = Int.random(in: 1...6) let dice = DiceState(rawValue: value) model.diceState = dice ?? .one } label: { Circle() .frame(width: 150, height: 150, alignment: .center) .foregroundColor(.blue) .overlay { Text(\u0026#34;\\(model.diceState.rawValue)\u0026#34;) .font(.system(size:72, weight: .bold)) .foregroundColor(.white) } } } } åœ¨å‰µå»º ContentView çš„åœ°æ–¹æ³¨å…¥ environmentObject\n@main struct SwiftUIDemoApp: App { var body: some Scene { WindowGroup { ContentView().environmentObject(DiceModel()) } } } ç¸½çµ  @State å’Œ @Binding æä¾› View å…§éƒ¨çš„ç‹€æ…‹å„²å­˜ï¼Œæ‡‰æ˜¯ç°¡å–®çš„ value type æ¨™è¨˜ç‚º private åƒ…ä¾›å…§éƒ¨ä½¿ç”¨ã€‚ ObservableObjectä¸­@ObservedObjectå’Œ @EnvironmentObject å‰‡æ˜¯é‡å°è·¨è¶Š View å±¤ç´šçš„ç‹€æ…‹å…±äº«ï¼Œå¯ä»¥è™•ç†è¼ƒè¤‡é›œçš„æ•¸æ“šé¡å‹ï¼Œç‚º reference typeã€‚éœ€è¦åœ¨æ•¸æ“šè®ŠåŒ–æ™‚å‘å¤–ç™¼é€é€šçŸ¥ï¼Œä¾†è§¸ç™¼ä»‹é¢åˆ·æ–°ã€‚ å»ºè­°ä¸€é–‹å§‹å¯ä»¥å…ˆé¸æ“‡ä½¿ç”¨ @ObservedObjectï¼Œè‹¥ç™¼ç¾ç‹€æ…‹å¯ä»¥è¢«é™åˆ¶åœ¨åŒä¸€å€‹ View å±¤ç´šï¼Œå‰‡æ”¹ç”¨ @Stateï¼›è‹¥ç‹€æ…‹éœ€è¦å¤§é‡å…±äº«ï¼Œå‰‡æ”¹ç”¨ @EnvironmentObject  ","permalink":"https://tientiensmile.github.io/posts/swiftui/swiftui_observableobject/","summary":"ObservableObject å’Œ @ObservedObject  ObservableObject æ˜¯ä¸€å€‹ protocolï¼Œè¦æ±‚å¯¦ç¾å”è­°çš„é¡å‹ç‚º classï¼Œæœ‰ä¸€å€‹éœ€è¦å¯¦ä½œçš„å±¬æ€§ objectWillChangeã€‚ ç•¶æ•¸æ“šå°‡è¦ç™¼ç”Ÿæ”¹è®Šæ™‚ï¼Œé€™å€‹å±¬æ€§ç”¨ä¾†å‘å¤–é€²è¡Œã€Œå»£æ’­ã€ï¼Œå®ƒçš„è¨‚é–±è€…(ä¸€èˆ¬æ˜¯ View ç›¸é—œçš„é‚è¼¯)åœ¨æ”¶åˆ°é€šçŸ¥å¾Œï¼Œå° View é€²è¡Œåˆ·æ–°ã€‚ å‰µå»ºéµå¾ ObservableObject å”è­°çš„é¡åˆ¥å¾Œï¼Œå¯¦éš›åœ¨ View è£¡ä½¿ç”¨éœ€è¦å°‡æ­¤ç‰©ä»¶å®£å‘Šç‚º @ObservedObjectã€‚  ç¯„ä¾‹ï¼šé»æ“ŠæŒ‰éˆ•æ“²éª°å­  ä½¿ç”¨ PassthroughSubject ä¸­ send() æ–¹æ³•é€šçŸ¥äº‹ä»¶å°‡è¦ç™¼ç”Ÿã€‚ PassthroughSubject æ–¼ Combine æ¡†æ¶ä¸­ï¼Œå°‡æ–¼å¾ŒçºŒä»‹ç´¹ã€‚\n  ContentView ä¸­ model ç‚º reference typeï¼Œä½¿ç”¨ @ObservedObject å°‡å®ƒå’Œ ContentView é—œè¯èµ·ä¾†ã€‚ç•¶ model ä¸­çš„å±¬æ€§ diceState å°‡è¦æ”¹è®Šï¼ŒobjectWillChange å°±æœƒç™¼å‡ºäº‹ä»¶ï¼Œä½¿å¾— body è¢«èª¿ç”¨é€²è¡ŒUIåˆ·æ–°ã€‚  struct ContentView: View { @ObservedObject private var model = DiceModel() var body: some View { CounterButton(diceState: $model.diceState) } } class DiceModel: ObservableObject { let objectWillChange = PassthroughSubject\u0026lt;Void, Never\u0026gt;() var diceState: DiceState = .","title":"SwiftUI - ObservableObject"},{"content":"å±¬æ€§åŒ…è£ã€æŠ•å°„å±¬æ€§  ç”± @ ä¿®é£¾çš„å±¬æ€§ç¨±ç‚ºå±¬æ€§åŒ…è£(Property Wrapper)ã€‚ @Stateã€@Bindingã€@ObjectBindingã€@EnvironmentObjectéƒ½æ˜¯ @propertyWrapper ä¿®é£¾çš„ structã€‚ å°ä¸€å€‹ç”± @ ä¿®é£¾çš„å±¬æ€§ï¼Œåœ¨å®ƒå‰é¢ä½¿ç”¨ $ å–å¾—çš„å€¼ï¼Œè¢«ç¨±ç‚ºæŠ•å°„å±¬æ€§(Projection Property)ã€‚ ä¸¦ä¸æ˜¯æ‰€æœ‰çš„ @ å±¬æ€§éƒ½æä¾› $ çš„æŠ•å°„è¨ªå•æ–¹å¼ã€‚  @State  @State ä¿®é£¾çš„å±¬æ€§æœƒè¢«è‡ªå‹•è½‰æ›ç‚ºä¸€å° setter å’Œ getter å°é€™å€‹å±¬æ€§é€²è¡Œè³¦å€¼çš„æ“ä½œï¼Œå®ƒçš„ body æœƒè¢«å†æ¬¡èª¿ç”¨ï¼Œé€²è¡Œ View çš„åˆ·æ–°ã€‚ ä½†ç”±æ–¼æ˜¯ value type ï¼Œåœ¨ä¸åŒç‰©ä»¶å‚³éæ™‚é€éè¤‡è£½å€¼ï¼Œå› æ­¤ç¶“éä¸åŒå±¤ç´šåº•å±¤æ”¹è®Šä¸¦ç„¡æ³•æ›´æ–°é ‚å±¤çš„å€¼ã€‚ è¨ªå• @State ä¿®é£¾çš„å±¬æ€§ï¼Œæ‰€æœ‰èª¿ç”¨è§¸ç™¼çš„éƒ½æ˜¯ wrappedValueã€‚ ä½¿ç”¨ $ è¨ªå•å±¬æ€§ï¼Œå–å¾—çš„æ˜¯ projectedValue ï¼Œç‚ºä¸€å€‹ Binding é¡å‹çš„å€¼ã€‚  SwiftUI ä¸­ State å®šç¾©çš„é—œéµéƒ¨åˆ†\n@propertyWrapper public struct State\u0026lt;Value\u0026gt;: DynamicViewProperty, BindingConvertible { public var value: Value { get nonmutating set } public var wrappedValue: Value { get nonmutating set } public var projectedValue: Binding\u0026lt;Value\u0026gt; { get } init(initialValue value: Value) } ç¯„ä¾‹ï¼šé»æ“ŠæŒ‰éˆ•æ•¸å­—ç´¯åŠ é»æ“Šæ¬¡æ•¸ struct ContentView: View { @State private var count: Int = 0 var body: some View { Button { self.count += 1 } label: { Circle() .frame(width: 150, height: 150, alignment: .center) .foregroundColor(.blue) .overlay { Text(\u0026#34;\\(count)\u0026#34;) .font(.system(size:72, weight: .bold)) .foregroundColor(.white) } } } } @Binding  å’Œ @State é¡ä¼¼ï¼Œä¹Ÿæ˜¯å°å±¬æ€§çš„ä¿®é£¾ï¼Œä½†å°‡ value type è½‰æ›ç‚º reference typeã€‚ å° @Binding ä¿®é£¾çš„å±¬æ€§é€²è¡Œè³¦å€¼ï¼Œæ”¹è®Šçš„æ˜¯å…¶åƒè€ƒï¼Œå› æ­¤å¯ä»¥åœ¨ä¸åŒç‰©ä»¶å‚³éã€‚  ç¯„ä¾‹ï¼šåŒä¸Š(å°‡æŒ‰éˆ•å®šç¾©ç‚ºCounterButton)  CounterButton ä¸­å®£å‘Š count è®Šæ•¸ä»¥ @Binding ä¿®é£¾ï¼Œåœ¨ ContentView ä»¥ projectedValue å°‡ $counter å‚³éè‡³ CounterButtonï¼Œç•¶é»æ“ŠæŒ‰éˆ• count å€¼æ”¹è®Šï¼Œç•«é¢æ”¹è®Šï¼Œcounteräº¦è·Ÿè‘—æ”¹è®Šã€‚   print(counter) å°å‡ºçµæœçš†ç‚º 1, 2, 3\u0026hellip;\n  è‹¥ CounterButton ä¸­å®£å‘Š count è®Šæ•¸ä»¥ @State ä¿®é£¾ï¼Œåœ¨ ContentView ä»¥ wrappedValue å°‡ counter å‚³éè‡³ CounterButtonï¼Œç•¶é»æ“ŠæŒ‰éˆ• count å€¼æ”¹è®Šï¼Œç•«é¢æ”¹è®Šï¼Œä½† counter ä¸æœƒè·Ÿè‘—æ”¹è®Šã€‚   print(counter) å°å‡ºçµæœçš†ç‚º 0\n struct ContentView: View { @State private var counter: Int = 0 var body: some View { CounterButton(count: $counter) { print(counter) } } } struct CounterButton: View { @Binding var count: Int var body: some View { Button { self.count += 1 } label: { Circle() .frame(width: 150, height: 150, alignment: .center) .foregroundColor(.blue) .overlay { Text(\u0026#34;\\(count)\u0026#34;) .font(.system(size:72, weight: .bold)) .foregroundColor(.white) } } } } ","permalink":"https://tientiensmile.github.io/posts/swiftui/swiftui_stateandbinding/","summary":"å±¬æ€§åŒ…è£ã€æŠ•å°„å±¬æ€§  ç”± @ ä¿®é£¾çš„å±¬æ€§ç¨±ç‚ºå±¬æ€§åŒ…è£(Property Wrapper)ã€‚ @Stateã€@Bindingã€@ObjectBindingã€@EnvironmentObjectéƒ½æ˜¯ @propertyWrapper ä¿®é£¾çš„ structã€‚ å°ä¸€å€‹ç”± @ ä¿®é£¾çš„å±¬æ€§ï¼Œåœ¨å®ƒå‰é¢ä½¿ç”¨ $ å–å¾—çš„å€¼ï¼Œè¢«ç¨±ç‚ºæŠ•å°„å±¬æ€§(Projection Property)ã€‚ ä¸¦ä¸æ˜¯æ‰€æœ‰çš„ @ å±¬æ€§éƒ½æä¾› $ çš„æŠ•å°„è¨ªå•æ–¹å¼ã€‚  @State  @State ä¿®é£¾çš„å±¬æ€§æœƒè¢«è‡ªå‹•è½‰æ›ç‚ºä¸€å° setter å’Œ getter å°é€™å€‹å±¬æ€§é€²è¡Œè³¦å€¼çš„æ“ä½œï¼Œå®ƒçš„ body æœƒè¢«å†æ¬¡èª¿ç”¨ï¼Œé€²è¡Œ View çš„åˆ·æ–°ã€‚ ä½†ç”±æ–¼æ˜¯ value type ï¼Œåœ¨ä¸åŒç‰©ä»¶å‚³éæ™‚é€éè¤‡è£½å€¼ï¼Œå› æ­¤ç¶“éä¸åŒå±¤ç´šåº•å±¤æ”¹è®Šä¸¦ç„¡æ³•æ›´æ–°é ‚å±¤çš„å€¼ã€‚ è¨ªå• @State ä¿®é£¾çš„å±¬æ€§ï¼Œæ‰€æœ‰èª¿ç”¨è§¸ç™¼çš„éƒ½æ˜¯ wrappedValueã€‚ ä½¿ç”¨ $ è¨ªå•å±¬æ€§ï¼Œå–å¾—çš„æ˜¯ projectedValue ï¼Œç‚ºä¸€å€‹ Binding é¡å‹çš„å€¼ã€‚  SwiftUI ä¸­ State å®šç¾©çš„é—œéµéƒ¨åˆ†\n@propertyWrapper public struct State\u0026lt;Value\u0026gt;: DynamicViewProperty, BindingConvertible { public var value: Value { get nonmutating set } public var wrappedValue: Value { get nonmutating set } public var projectedValue: Binding\u0026lt;Value\u0026gt; { get } init(initialValue value: Value) } ç¯„ä¾‹ï¼šé»æ“ŠæŒ‰éˆ•æ•¸å­—ç´¯åŠ é»æ“Šæ¬¡æ•¸ struct ContentView: View { @State private var count: Int = 0 var body: some View { Button { self.","title":"SwiftUI - ç‹€æ…‹(State)èˆ‡ç¶å®š(Binding)"},{"content":" é©åˆ SwiftUI çš„æ¶æ§‹\n Redux åŸºæœ¬æ¦‚å¿µ  App ç‚ºä¸€å€‹ç‹€æ…‹æ©Ÿï¼Œç‹€æ…‹æ±ºå®šç”¨æˆ¶ä»‹é¢ã€‚ é€™äº›ç‹€æ…‹(State)éƒ½ä¿å­˜åœ¨ä¸€å€‹ Store ç‰©ä»¶ä¸­ã€‚ View ä¸èƒ½ç›´æ¥æ“ä½œ Stateï¼Œåªèƒ½é€šéç™¼é€ Action çš„æ–¹å¼é–“æ¥æ”¹è®Šå„²å­˜åœ¨ Store ä¸­çš„ State ã€‚ Reducer æ¥å—åŸæœ‰çš„ State å’Œç™¼é€éä¾†çš„ Actionï¼Œç”Ÿæˆæ–°çš„ Stateã€‚ ç”¨æ–°çš„ State æ›¿æ› Store ä¸­åŸæœ‰çš„ç‹€æ…‹ï¼Œä¸¦ç”¨æ–°çš„ç‹€æ…‹ä¾†é©…å‹•æ›´æ–°ä»‹é¢ã€‚  Store æ‡‰ç”¨ç¨‹å¼åªæœ‰ä¸€å€‹ Storeï¼Œç”¨ä¾†ä¿å­˜æ•´å€‹æ‡‰ç”¨ç¨‹å¼çš„ Stateã€‚ å¯ä»¥é€é store.getState() å–å¾—æ‡‰ç”¨ç¨‹å¼ç•¶å‰ç‹€æ…‹ï¼Œä½†ä¸èƒ½ç›´æ¥ä¿®æ”¹ã€‚\nAction Action ç‚ºä¸€å€‹æ™®é€šçš„ç‰©ä»¶ï¼Œç”¨ä¾†æè¿°æ‡‰ç”¨ç¨‹å¼ç™¼ç”Ÿçš„äº‹æƒ…ï¼ŒæŠŠæ•¸æ“šå‚³éçµ¦ Store çš„å”¯ä¸€é€”å¾‘ã€‚\nReducer Reducer.reduce(state: action:)æ˜¯ç´”å‡½æ•¸ï¼Œå…·é«”è™•ç†ç‹€æ…‹çš„é‚è¼¯ã€‚\n ç´”å‡½æ•¸ï¼šè¿”å›å€¼åªç”±èª¿ç”¨æ™‚çš„åƒæ•¸æ±ºå®šï¼Œä¸ä¾è³´æ–¼ä»»ä½•ç³»çµ±ç‹€æ…‹ï¼Œä¹Ÿä¸æ”¹è®Šå…¶ä½œç”¨åŸŸä¹‹å¤–çš„è®Šé‡ç‹€æ…‹çš„å‡½æ•¸ã€‚\n struct Reducer { static func reduce(state: State, action: Action) -\u0026gt; State { return state.apply(item: action) } } ","permalink":"https://tientiensmile.github.io/posts/redux_intro/","summary":" é©åˆ SwiftUI çš„æ¶æ§‹\n Redux åŸºæœ¬æ¦‚å¿µ  App ç‚ºä¸€å€‹ç‹€æ…‹æ©Ÿï¼Œç‹€æ…‹æ±ºå®šç”¨æˆ¶ä»‹é¢ã€‚ é€™äº›ç‹€æ…‹(State)éƒ½ä¿å­˜åœ¨ä¸€å€‹ Store ç‰©ä»¶ä¸­ã€‚ View ä¸èƒ½ç›´æ¥æ“ä½œ Stateï¼Œåªèƒ½é€šéç™¼é€ Action çš„æ–¹å¼é–“æ¥æ”¹è®Šå„²å­˜åœ¨ Store ä¸­çš„ State ã€‚ Reducer æ¥å—åŸæœ‰çš„ State å’Œç™¼é€éä¾†çš„ Actionï¼Œç”Ÿæˆæ–°çš„ Stateã€‚ ç”¨æ–°çš„ State æ›¿æ› Store ä¸­åŸæœ‰çš„ç‹€æ…‹ï¼Œä¸¦ç”¨æ–°çš„ç‹€æ…‹ä¾†é©…å‹•æ›´æ–°ä»‹é¢ã€‚  Store æ‡‰ç”¨ç¨‹å¼åªæœ‰ä¸€å€‹ Storeï¼Œç”¨ä¾†ä¿å­˜æ•´å€‹æ‡‰ç”¨ç¨‹å¼çš„ Stateã€‚ å¯ä»¥é€é store.getState() å–å¾—æ‡‰ç”¨ç¨‹å¼ç•¶å‰ç‹€æ…‹ï¼Œä½†ä¸èƒ½ç›´æ¥ä¿®æ”¹ã€‚\nAction Action ç‚ºä¸€å€‹æ™®é€šçš„ç‰©ä»¶ï¼Œç”¨ä¾†æè¿°æ‡‰ç”¨ç¨‹å¼ç™¼ç”Ÿçš„äº‹æƒ…ï¼ŒæŠŠæ•¸æ“šå‚³éçµ¦ Store çš„å”¯ä¸€é€”å¾‘ã€‚\nReducer Reducer.reduce(state: action:)æ˜¯ç´”å‡½æ•¸ï¼Œå…·é«”è™•ç†ç‹€æ…‹çš„é‚è¼¯ã€‚\n ç´”å‡½æ•¸ï¼šè¿”å›å€¼åªç”±èª¿ç”¨æ™‚çš„åƒæ•¸æ±ºå®šï¼Œä¸ä¾è³´æ–¼ä»»ä½•ç³»çµ±ç‹€æ…‹ï¼Œä¹Ÿä¸æ”¹è®Šå…¶ä½œç”¨åŸŸä¹‹å¤–çš„è®Šé‡ç‹€æ…‹çš„å‡½æ•¸ã€‚\n struct Reducer { static func reduce(state: State, action: Action) -\u0026gt; State { return state.apply(item: action) } } ","title":"Reduxæ¶æ§‹"},{"content":"Subjects åŒæ™‚æ˜¯ Observable ä¹Ÿæ˜¯ Observer\nPublish Subject è¨‚é–±ä¹‹å¾Œæ‰æœƒæ”¶åˆ°ç™¼å‡ºçš„äº‹ä»¶ã€‚\nlet subject = PublishSubject\u0026lt;String\u0026gt;() /// Issue 1 åœ¨è¨‚é–±ä¹‹å‰æ”¶ä¸åˆ° subject.onNext(\u0026#34;Issue 1\u0026#34;) subject.subscribe { event in print(event) } subject.onNext(\u0026#34;Issue 2\u0026#34;) subject.dispose() /// Issue 3 åœ¨disposeä¹‹å¾Œæ”¶ä¸åˆ° subject.onNext(\u0026#34;Issue 3\u0026#34;) /// å°å‡ºçµæœ next(Issue 2) let subject = PublishSubject\u0026lt;String\u0026gt;() /// Issue 1 åœ¨è¨‚é–±ä¹‹å‰æ”¶ä¸åˆ° subject.onNext(\u0026#34;Issue 1\u0026#34;) subject.subscribe { event in print(event) } subject.onNext(\u0026#34;Issue 2\u0026#34;) subject.onCompleted() /// Issue 3 åœ¨completedä¹‹å¾Œæ”¶ä¸åˆ° subject.onNext(\u0026#34;Issue 3\u0026#34;) /// å°å‡ºçµæœ next(Issue 2) completed Behavior Subject éœ€çµ¦å®šåˆå§‹å€¼ï¼Œå› çˆ²è¨‚é–±å®ƒæ™‚ï¼Œæœƒå¾—åˆ°åˆå§‹å€¼æˆ–è¨‚é–±å‰æœ€å¾Œä¸€å€‹å€¼ã€‚\nlet subject = BehaviorSubject(value: \u0026#34;Initial value\u0026#34;) subject.subscribe { event in print(event) } subject.onNext(\u0026#34;Issue 1\u0026#34;) /// å°å‡ºçµæœ next(Initial value) next(Issue 1) let subject = BehaviorSubject(value: \u0026#34;Initial value\u0026#34;) subject.onNext(\u0026#34;Last Issue\u0026#34;) subject.subscribe { event in print(event) } subject.onNext(\u0026#34;Issue 1\u0026#34;) /// å°å‡ºçµæœ next(Last Issue) next(Issue 1) Relay Subject è¨‚é–±å¾Œå¯ä»¥æ”¶åˆ°æŒ‡å®šæ•¸é‡æœ€æ–°è¨‚é–±å‰ç™¼å‡ºçš„äº‹ä»¶ã€‚\nlet subject = ReplaySubject\u0026lt;String\u0026gt;.create(bufferSize: 2) subject.onNext(\u0026#34;Issue 1\u0026#34;) subject.onNext(\u0026#34;Issue 2\u0026#34;) subject.onNext(\u0026#34;Issue 3\u0026#34;) print(\u0026#34;[Subscription 1]\u0026#34;) subject.subscribe { event in print(event) } subject.onNext(\u0026#34;Issue 4\u0026#34;) subject.onNext(\u0026#34;Issue 5\u0026#34;) subject.onNext(\u0026#34;Issue 6\u0026#34;) print(\u0026#34;[Subscription 2]\u0026#34;) subject.subscribe { event in print(event) } /// å°å‡ºçµæœ ubscription 1] next(Issue 2) next(Issue 3) next(Issue 4) next(Issue 5) next(Issue 6) [Subscription 2] next(Issue 5) next(Issue 6) Variables  å³å°‡å»¢é™¤ç”± BehaviorRelay å–ä»£\n ç‚ºä¸€å€‹å¯ä»¥å„²å­˜å€¼çš„Behavior Subjectï¼Œæˆ‘å€‘å¯ä»¥å°å…¶å±¬æ€§å­˜å–å€¼ã€‚\nlet variable = Variable(\u0026#34;Initial value\u0026#34;) variable.value = \u0026#34;Hello world\u0026#34; variable.asObservable().subscribe { print($0) } /// å°å‡ºçµæœ next(Hello world) è¨‚é–±ä¸€å€‹å­—ä¸²é™£åˆ—ï¼Œç•¶æ”¹è®Šé™£åˆ—å…§å®¹å°±æœƒæ”¶åˆ°äº‹ä»¶å¾—åˆ°ç•¶å‰é™£åˆ—çš„å…§å®¹ã€‚\nlet variable = Variable([String]()) variable.value.append(\u0026#34;Item 1\u0026#34;) variable.asObservable().subscribe { print($0) } variable.value.append(\u0026#34;Item 2\u0026#34;) /// å°å‡ºçµæœ next([\u0026#34;Item 1\u0026#34;]) next([\u0026#34;Item 1\u0026#34;, \u0026#34;Item 2\u0026#34;]) BehaviorRelay  éœ€è¦ pod 'RxCocoa'\n  value å±¬æ€§é™åˆ¶ç‚º get-only æ›´æ–°å€¼ä½¿ç”¨ accept()  let replay = BehaviorRelay(value: \u0026#34;Item 1\u0026#34;) replay.accept(\u0026#34;Hello world\u0026#34;) replay.asObservable() .subscribe { print($0) } /// å°å‡ºçµæœ next(Hello world) å€¼çš„æ›´æ–°ç‚º accept æ”¶åˆ°çš„å€¼ï¼Œè‹¥è¦ç´¯åŠ éœ€å…ˆå¾å±¬æ€§ä¸­å–å‡ºåŸæœ¬çš„å€¼ã€‚\nlet replay = BehaviorRelay(value: [\u0026#34;Item 1\u0026#34;]) replay.accept([\u0026#34;Item 2\u0026#34;]) replay.asObservable() .subscribe { print($0) } replay.accept(replay.value + [\u0026#34;Item 3\u0026#34;]) /// å°å‡ºçµæœ next([\u0026#34;Item 2\u0026#34;]) next([\u0026#34;Item 2\u0026#34;, \u0026#34;Item 3\u0026#34;]) ","permalink":"https://tientiensmile.github.io/posts/rxswift/rxswift_subjects/","summary":"Subjects åŒæ™‚æ˜¯ Observable ä¹Ÿæ˜¯ Observer\nPublish Subject è¨‚é–±ä¹‹å¾Œæ‰æœƒæ”¶åˆ°ç™¼å‡ºçš„äº‹ä»¶ã€‚\nlet subject = PublishSubject\u0026lt;String\u0026gt;() /// Issue 1 åœ¨è¨‚é–±ä¹‹å‰æ”¶ä¸åˆ° subject.onNext(\u0026#34;Issue 1\u0026#34;) subject.subscribe { event in print(event) } subject.onNext(\u0026#34;Issue 2\u0026#34;) subject.dispose() /// Issue 3 åœ¨disposeä¹‹å¾Œæ”¶ä¸åˆ° subject.onNext(\u0026#34;Issue 3\u0026#34;) /// å°å‡ºçµæœ next(Issue 2) let subject = PublishSubject\u0026lt;String\u0026gt;() /// Issue 1 åœ¨è¨‚é–±ä¹‹å‰æ”¶ä¸åˆ° subject.onNext(\u0026#34;Issue 1\u0026#34;) subject.subscribe { event in print(event) } subject.onNext(\u0026#34;Issue 2\u0026#34;) subject.onCompleted() /// Issue 3 åœ¨completedä¹‹å¾Œæ”¶ä¸åˆ° subject.onNext(\u0026#34;Issue 3\u0026#34;) /// å°å‡ºçµæœ next(Issue 2) completed Behavior Subject éœ€çµ¦å®šåˆå§‹å€¼ï¼Œå› çˆ²è¨‚é–±å®ƒæ™‚ï¼Œæœƒå¾—åˆ°åˆå§‹å€¼æˆ–è¨‚é–±å‰æœ€å¾Œä¸€å€‹å€¼ã€‚","title":"RxSwift - Subjects"},{"content":"æ¯ä¸€å€‹ Observable å°±åªæ˜¯ä¸€å€‹åºåˆ—(Sequence)è€Œå·²ã€‚\nsubscribe ä¸€å€‹ observableï¼Œä»¥è¨‚é–±UISliderç‚ºä¾‹ï¼Œç•¶æ»‘å‹•UISlideræ™‚å€¼æ”¹è®Šå°±æœƒé€šçŸ¥è¨‚é–±(subscride)çš„äººã€‚\nå»ºç«‹Observables å»ºç«‹ä¸€å€‹åªæœ‰ä¸€å€‹ elementï¼Œå€¼ç‚º1çš„observable\nlet observable = Observable.just(1) å»ºç«‹ä¸€å€‹ä¸‰å€‹elementï¼Œå‹åˆ¥ç‚ºintçš„observable\nlet observable2 = Observable.of(1,2,3) å»ºç«‹ä¸€å€‹åªæœ‰ä¸€å€‹elementï¼Œç‚ºinté™£åˆ—çš„observable\nlet observable3 = Observable.of([1,2,3]) ç”¨froméæ­·é™£åˆ—ä¸­æ¯ä¸€å€‹elementï¼Œç›¸ç•¶æ–¼observable2\nlet observable4 = Observable.from([1,2,3]) å»ºç«‹Subscriptions observable4.subscribe { event in print(event) } /// å°å‡ºçµæœ next(1) next(2) next(3) completed /// å–å¾—Observableä¸­çš„å€¼ observable4.subscribe { event in if let element = event.element { print(element) } } /// è¼ƒç°¡æ˜“å–å¾—elementçš„æ–¹æ³• observable4.subscribe(onNext: { element in print(element) }) /// å°å‡ºçµæœ 1 2 3 observable3.subscribe { event in print(event) } /// å°å‡ºçµæœ next([1, 2, 3]) completed å–å¾—Observableä¸­çš„å€¼\nobservable3.subscribe(onNext: { element in print(element) }) /// å°å‡ºçµæœ [1, 2, 3] Event - äº‹ä»¶ enum Event\u0026lt;Element\u0026gt; { case next(Element) case error(Swift.Error) case completed }  nextï¼šåºåˆ—ç”¢ç”Ÿä¸€å€‹æ–°çš„å…ƒç´  completedï¼šåºåˆ—çš„æ‰€æœ‰å…ƒç´ éƒ½æˆåŠŸç”¢ç”Ÿï¼Œæ•´å€‹åºåˆ—å·²ç¶“å®Œæˆ errorï¼šå‰µå»ºåºåˆ—æ™‚ç”¢ç”Ÿäº†ä¸€å€‹éŒ¯èª¤ï¼Œå°è‡´åºåˆ—çµ‚æ­¢  Disposing  ç•¶ Observable æœ‰è¢«è¨‚é–±(subscribe)ï¼Œè¡¨ç¤ºå»ºç«‹äº†è¨‚é–±è€…ä¸€ç›´åœ¨è§€å¯Ÿé€™å€‹åºåˆ—ï¼Œå› æ­¤ç•¶åºåˆ—å®Œæˆéœ€è¦é©ç•¶çš„ dispose é€™äº› subscriptionsï¼Œå¦å‰‡æœƒç”¢ç”Ÿmemory leakã€‚\n é‡å°å–®å€‹è¨‚é–±åšdispose\nlet subscription4 = observable4.subscribe(onNext: { element in print(element) }) subscription4.dispose() ä½¿ç”¨disposeBagï¼Œç•¶åºåˆ—å®Œæˆè‡ªå‹•é€²è¡Œdispose\nlet disposeBag = DisposeBag() Observable.of(\u0026#34;A\u0026#34;, \u0026#34;B\u0026#34;, \u0026#34;C\u0026#34;) .subscribe { print($0) }.disposed(by: disposeBag) å¦ä¸€ç¨®å‰µå»ºåºåˆ—åŠè¨‚é–±çš„æ–¹æ³•  èª¿ç”¨ Observable.create å‰µå»ºåºåˆ—ï¼Œåœ¨æ§‹å»ºå‡½æ•¸è£¡æè¿°å…ƒç´ çš„ç”¢ç”Ÿéç¨‹ã€‚\n ç•¶ä¸€å€‹åºåˆ—completedæˆ–æ˜¯å‡ºç¾errorå°±ä¸æœƒå†è§¸ç™¼å¾ŒçºŒçš„äº‹ä»¶\nObservable\u0026lt;String\u0026gt;.create { observer in observer.onNext(\u0026#34;A\u0026#34;) observer.onCompleted() observer.onNext(\u0026#34;B\u0026#34;) observer.onNext(\u0026#34;C\u0026#34;) return Disposables.create() }.subscribe { print($0) } onError: { print($0) } onCompleted: { print(\u0026#34;Completed\u0026#34;) } onDisposed: { print(\u0026#34;Disposed\u0026#34;) }.disposed(by: disposeBag) /// å°å‡ºçµæœ A Completed Disposed ","permalink":"https://tientiensmile.github.io/posts/rxswift/rxswift_observable/","summary":"æ¯ä¸€å€‹ Observable å°±åªæ˜¯ä¸€å€‹åºåˆ—(Sequence)è€Œå·²ã€‚\nsubscribe ä¸€å€‹ observableï¼Œä»¥è¨‚é–±UISliderç‚ºä¾‹ï¼Œç•¶æ»‘å‹•UISlideræ™‚å€¼æ”¹è®Šå°±æœƒé€šçŸ¥è¨‚é–±(subscride)çš„äººã€‚\nå»ºç«‹Observables å»ºç«‹ä¸€å€‹åªæœ‰ä¸€å€‹ elementï¼Œå€¼ç‚º1çš„observable\nlet observable = Observable.just(1) å»ºç«‹ä¸€å€‹ä¸‰å€‹elementï¼Œå‹åˆ¥ç‚ºintçš„observable\nlet observable2 = Observable.of(1,2,3) å»ºç«‹ä¸€å€‹åªæœ‰ä¸€å€‹elementï¼Œç‚ºinté™£åˆ—çš„observable\nlet observable3 = Observable.of([1,2,3]) ç”¨froméæ­·é™£åˆ—ä¸­æ¯ä¸€å€‹elementï¼Œç›¸ç•¶æ–¼observable2\nlet observable4 = Observable.from([1,2,3]) å»ºç«‹Subscriptions observable4.subscribe { event in print(event) } /// å°å‡ºçµæœ next(1) next(2) next(3) completed /// å–å¾—Observableä¸­çš„å€¼ observable4.subscribe { event in if let element = event.element { print(element) } } /// è¼ƒç°¡æ˜“å–å¾—elementçš„æ–¹æ³• observable4.subscribe(onNext: { element in print(element) }) /// å°å‡ºçµæœ 1 2 3 observable3.subscribe { event in print(event) } /// å°å‡ºçµæœ next([1, 2, 3]) completed å–å¾—Observableä¸­çš„å€¼","title":"RxSwift - Observable å¯ç›£è½åºåˆ—"},{"content":"è§€å¯Ÿè€…æ˜¯ç”¨ä¾†ç›£è½åºåˆ—ï¼Œç•¶æ”¶åˆ°äº‹ä»¶ä½œå‡ºéŸ¿æ‡‰ã€‚\nå»ºç«‹è§€å¯Ÿè€… å°ä¸€å€‹ Observable é€²è¡Œ subscribeã€‚äº‹ä»¶ç™¼ç”Ÿæ™‚æ–¼å¾Œé¢çš„ onNextã€onErrorã€onCompletedä½œå‡ºéŸ¿æ‡‰ã€‚\ntap.subscribe(onNext: { [weak self] in self?.showAlert() }, onError: { error in print(\u0026#34;ç™¼ç”ŸéŒ¯èª¤ï¼š \\(error.localizedDescription)\u0026#34;) }, onCompleted: { print(\u0026#34;å®Œæˆä»»å‹™\u0026#34;) }) AnyObserver AnyObserver å¯ä»¥ç”¨ä¾†æè¿°ä»»æ„ä¸€ç¨®è§€å¯Ÿè€…ã€‚\nç¯„ä¾‹ï¼šå°å‡ºç¶²è·¯è«‹æ±‚çµæœ\nURLSession.shared.rx.data(request: URLRequest(url: url)) .subscribe(onNext: { data in print(\u0026#34;Data Task Success with count: \\(data.count)\u0026#34;) }, onError: { error in print(\u0026#34;Data Task Error: \\(error)\u0026#34;) }) .disposed(by: disposeBag) å¯ä»¥æ”¹å¯«ç‚º\nlet observer: AnyObserver\u0026lt;Data\u0026gt; = AnyObserver { (event) in switch event { case .next(let data): print(\u0026#34;Data Task Success with count: \\(data.count)\u0026#34;) case .error(let error): print(\u0026#34;Data Task Error: \\(error)\u0026#34;) default: break } } URLSession.shared.rx.data(request: URLRequest(url: url)) .subscribe(observer) .disposed(by: disposeBag) Binder  Binder ä¸æœƒè™•ç†éŒ¯èª¤äº‹ä»¶ ç¢ºä¿ç¶å®šéƒ½æ˜¯åœ¨çµ¦å®šçš„ Scheduler ä¸ŠåŸ·è¡Œ (é»˜èªç‚º MainScheduler)  ç¯„ä¾‹ï¼š è¿™ä¸ªè§‚å¯Ÿè€…æ˜¯ä¸€ä¸ª UI è§‚å¯Ÿè€…ï¼Œæ‰€ä»¥å®ƒåœ¨å“åº”äº‹ä»¶æ—¶ï¼Œåªä¼šå¤„ç† next äº‹ä»¶ï¼Œå¹¶ä¸”æ›´æ–° UI çš„æ“ä½œéœ€è¦åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œã€‚\nlet observer: AnyObserver\u0026lt;Bool\u0026gt; = AnyObserver { [weak self] (event) in switch event { case .next(let isHidden): self?.usernameValidOutlet.isHidden = isHidden default: break } } usernameValid .bind(to: observer) .disposed(by: disposeBag) ","permalink":"https://tientiensmile.github.io/posts/rxswift/rxswift_observer/","summary":"è§€å¯Ÿè€…æ˜¯ç”¨ä¾†ç›£è½åºåˆ—ï¼Œç•¶æ”¶åˆ°äº‹ä»¶ä½œå‡ºéŸ¿æ‡‰ã€‚\nå»ºç«‹è§€å¯Ÿè€… å°ä¸€å€‹ Observable é€²è¡Œ subscribeã€‚äº‹ä»¶ç™¼ç”Ÿæ™‚æ–¼å¾Œé¢çš„ onNextã€onErrorã€onCompletedä½œå‡ºéŸ¿æ‡‰ã€‚\ntap.subscribe(onNext: { [weak self] in self?.showAlert() }, onError: { error in print(\u0026#34;ç™¼ç”ŸéŒ¯èª¤ï¼š \\(error.localizedDescription)\u0026#34;) }, onCompleted: { print(\u0026#34;å®Œæˆä»»å‹™\u0026#34;) }) AnyObserver AnyObserver å¯ä»¥ç”¨ä¾†æè¿°ä»»æ„ä¸€ç¨®è§€å¯Ÿè€…ã€‚\nç¯„ä¾‹ï¼šå°å‡ºç¶²è·¯è«‹æ±‚çµæœ\nURLSession.shared.rx.data(request: URLRequest(url: url)) .subscribe(onNext: { data in print(\u0026#34;Data Task Success with count: \\(data.count)\u0026#34;) }, onError: { error in print(\u0026#34;Data Task Error: \\(error)\u0026#34;) }) .disposed(by: disposeBag) å¯ä»¥æ”¹å¯«ç‚º\nlet observer: AnyObserver\u0026lt;Data\u0026gt; = AnyObserver { (event) in switch event { case .next(let data): print(\u0026#34;Data Task Success with count: \\(data.","title":"RxSwift - Observer è§€å¯Ÿè€…"}]